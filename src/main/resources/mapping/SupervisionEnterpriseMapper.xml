<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.upc.dao.SupervisionEnterpriseMapper">
  <resultMap id="BaseResultMap" type="com.example.upc.dataobject.SupervisionEnterprise">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="enterprise_name" jdbcType="VARCHAR" property="enterpriseName" />
    <result column="shop_name" jdbcType="VARCHAR" property="shopName" />
    <result column="postal_code" jdbcType="VARCHAR" property="postalCode" />
    <result column="registered_address" jdbcType="VARCHAR" property="registeredAddress" />
    <result column="business_address" jdbcType="VARCHAR" property="businessAddress" />
    <result column="legal_person" jdbcType="VARCHAR" property="legalPerson" />
    <result column="id_number" jdbcType="VARCHAR" property="idNumber" />
    <result column="license_number" jdbcType="VARCHAR" property="licenseNumber" />
    <result column="cantacts" jdbcType="VARCHAR" property="cantacts" />
    <result column="cantact_way" jdbcType="VARCHAR" property="cantactWay" />
    <result column="regulators" jdbcType="INTEGER" property="regulators" />
    <result column="area" jdbcType="INTEGER" property="area" />
    <result column="grid" jdbcType="INTEGER" property="grid" />
    <result column="supervisor" jdbcType="VARCHAR" property="supervisor" />
    <result column="enterprise_scale" jdbcType="VARCHAR" property="enterpriseScale" />
    <result column="grid_person" jdbcType="VARCHAR" property="gridPerson" />
    <result column="risk_rating" jdbcType="VARCHAR" property="riskRating" />
    <result column="risk_rating_lastyear" jdbcType="VARCHAR" property="riskRatingLastyear" />
    <result column="dynamic_grade" jdbcType="VARCHAR" property="dynamicGrade" />
    <result column="year_assessment" jdbcType="VARCHAR" property="yearAssessment" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="office_phone" jdbcType="VARCHAR" property="officePhone" />
    <result column="patrol_frequency" jdbcType="VARCHAR" property="patrolFrequency" />
    <result column="transformation_type" jdbcType="VARCHAR" property="transformationType" />
    <result column="business_status" jdbcType="VARCHAR" property="businessStatus" />
    <result column="permission_state" jdbcType="VARCHAR" property="permissionState" />
    <result column="permission_type" jdbcType="VARCHAR" property="permissionType" />
    <result column="ip_id_number" jdbcType="VARCHAR" property="ipIdNumber" />
    <result column="ip_mobile_phone" jdbcType="VARCHAR" property="ipMobilePhone" />
    <result column="ip_sexy" jdbcType="VARCHAR" property="ipSexy" />
    <result column="ip_education" jdbcType="VARCHAR" property="ipEducation" />
    <result column="ip_political_outlook" jdbcType="VARCHAR" property="ipPoliticalOutlook" />
    <result column="ip_current_address" jdbcType="VARCHAR" property="ipCurrentAddress" />
    <result column="ip_nation" jdbcType="VARCHAR" property="ipNation" />
    <result column="ip_email" jdbcType="VARCHAR" property="ipEmail" />
    <result column="ip_postal_code" jdbcType="VARCHAR" property="ipPostalCode" />
    <result column="sp_name" jdbcType="VARCHAR" property="spName" />
    <result column="spId_number" jdbcType="VARCHAR" property="spidNumber" />
    <result column="sp_office_phone" jdbcType="VARCHAR" property="spOfficePhone" />
    <result column="sp_mobile_phone" jdbcType="VARCHAR" property="spMobilePhone" />
    <result column="sp_email" jdbcType="VARCHAR" property="spEmail" />
    <result column="sp_sexy" jdbcType="VARCHAR" property="spSexy" />
    <result column="sp_education" jdbcType="VARCHAR" property="spEducation" />
    <result column="sp_current_address" jdbcType="VARCHAR" property="spCurrentAddress" />
    <result column="sp_training" jdbcType="VARCHAR" property="spTraining" />
    <result column="operation_mode" jdbcType="VARCHAR" property="operationMode" />
    <result column="housing_property" jdbcType="VARCHAR" property="housingProperty" />
    <result column="owner" jdbcType="VARCHAR" property="owner" />
    <result column="owner_id_number" jdbcType="VARCHAR" property="ownerIdNumber" />
    <result column="owner_mobile_phone" jdbcType="VARCHAR" property="ownerMobilePhone" />
    <result column="agent" jdbcType="VARCHAR" property="agent" />
    <result column="agent_id_number" jdbcType="VARCHAR" property="agentIdNumber" />
    <result column="agent_mobile_phone" jdbcType="VARCHAR" property="agentMobilePhone" />
    <result column="other_phone" jdbcType="VARCHAR" property="otherPhone" />
    <result column="integrity_level" jdbcType="VARCHAR" property="integrityLevel" />
    <result column="production_area" jdbcType="INTEGER" property="productionArea" />
    <result column="fixed_assets" jdbcType="INTEGER" property="fixedAssets" />
    <result column="practitioners" jdbcType="VARCHAR" property="practitioners" />
    <result column="examination_population" jdbcType="INTEGER" property="examinationPopulation" />
    <result column="warehouse1" jdbcType="VARCHAR" property="warehouse1" />
    <result column="warehouse2" jdbcType="VARCHAR" property="warehouse2" />
    <result column="warehouse3" jdbcType="VARCHAR" property="warehouse3" />
    <result column="abbreviation" jdbcType="VARCHAR" property="abbreviation" />
    <result column="introduction" jdbcType="VARCHAR" property="introduction" />
    <result column="culture" jdbcType="VARCHAR" property="culture" />
    <result column="classification" jdbcType="VARCHAR" property="classification" />
    <result column="propaganda_enclosure" jdbcType="VARCHAR" property="propagandaEnclosure" />
    <result column="business_term_start" jdbcType="VARCHAR" property="businessTermStart" />
    <result column="business_term_end" jdbcType="VARCHAR" property="businessTermEnd" />
    <result column="business_term_flag" jdbcType="INTEGER" property="businessTermFlag" />
    <result column="given_date" jdbcType="TIMESTAMP" property="givenDate" />
    <result column="given_gov" jdbcType="VARCHAR" property="givenGov" />
    <result column="business_scale" jdbcType="VARCHAR" property="businessScale" />
    <result column="business_state" jdbcType="INTEGER" property="businessState" />
    <result column="abnormal_id" jdbcType="INTEGER" property="abnormalId" />
    <result column="abnormal_content" jdbcType="VARCHAR" property="abnormalContent" />
    <result column="vr_url" jdbcType="VARCHAR" property="vrUrl" />
    <result column="is_stop" jdbcType="INTEGER" property="isStop" />
    <result column="gps_flag" jdbcType="INTEGER" property="gpsFlag" />
    <result column="operate_time" jdbcType="TIMESTAMP" property="operateTime" />
    <result column="operate_ip" jdbcType="VARCHAR" property="operateIp" />
    <result column="operator" jdbcType="VARCHAR" property="operator" />
    <result column="manage_start_time" jdbcType="VARCHAR" property="manageStartTime" />
    <result column="manage_end_time" jdbcType="VARCHAR" property="manageEndTime" />
    <result column="destination" jdbcType="VARCHAR" property="destination" />
    <result column="operation_time" jdbcType="VARCHAR" property="operationTime" />
    <result column="bus" jdbcType="VARCHAR" property="bus" />
  </resultMap>

  <resultMap extends="BaseResultMap" id="ResultMapParam" type="com.example.upc.controller.param.EnterpriseListResultParam">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 29 10:58:28 CST 2019.
    -->
    <result column="area_name" jdbcType="VARCHAR" property="areaName" />
  </resultMap>
  <resultMap id="PreAndEdParam" type="com.example.upc.controller.param.PreAndEdParam">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 29 10:58:28 CST 2019.
    -->
    <result column="dept" jdbcType="INTEGER" property="dept" />
    <result column="pre" jdbcType="INTEGER" property="pre" />
    <result column="ed" jdbcType="INTEGER" property="ed" />
    <result column="name" jdbcType="VARCHAR" property="name" />
  </resultMap>
  <resultMap id="PreAndEdEnterpriseParam" type="com.example.upc.controller.param.PreAndEdEnterpriseParam">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 29 10:58:28 CST 2019.
    -->
    <result column="dept_id" jdbcType="INTEGER" property="deptId" />
    <result column="dept" jdbcType="VARCHAR" property="dept" />
    <result column="year" jdbcType="VARCHAR" property="year" />
    <result column="enterprise" jdbcType="VARCHAR" property="enterprise" />
    <result column="person" jdbcType="VARCHAR" property="person" />
    <result column="phone" jdbcType="VARCHAR" property="phone" />
    <result column="check" jdbcType="VARCHAR" property="check" />
    <result column="date" jdbcType="TIMESTAMP" property="date" />
    <result column="result" jdbcType="VARCHAR" property="result" />
    <result column="freq" jdbcType="VARCHAR" property="freq" />
  </resultMap>

  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    id, enterprise_name, shop_name, postal_code, registered_address, business_address, 
    legal_person, id_number, license_number, cantacts, cantact_way, regulators, area, 
    grid, supervisor, enterprise_scale, grid_person, risk_rating, risk_rating_lastyear, 
    dynamic_grade, year_assessment, email, office_phone, patrol_frequency, transformation_type, 
    business_status, permission_state, permission_type, ip_id_number, ip_mobile_phone, 
    ip_sexy, ip_education, ip_political_outlook, ip_current_address, ip_nation, ip_email, 
    ip_postal_code, sp_name, spId_number, sp_office_phone, sp_mobile_phone, sp_email, 
    sp_sexy, sp_education, sp_current_address, sp_training, operation_mode, housing_property, 
    owner, owner_id_number, owner_mobile_phone, agent, agent_id_number, agent_mobile_phone, 
    other_phone, integrity_level, production_area, fixed_assets, practitioners, examination_population, 
    warehouse1, warehouse2, warehouse3, abbreviation, introduction, culture, classification, 
    propaganda_enclosure, business_term_start, business_term_end, business_term_flag, 
    given_date, given_gov, business_scale, business_state, abnormal_id, abnormal_content, 
    vr_url, is_stop, gps_flag, operate_time, operate_ip, operator, manage_start_time, 
    manage_end_time, destination, operation_time, bus
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    select 
    <include refid="Base_Column_List" />
    from supervision_enterprise
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    delete from supervision_enterprise
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.example.upc.dataobject.SupervisionEnterprise">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    insert into supervision_enterprise (id, enterprise_name, shop_name, 
      postal_code, registered_address, business_address, 
      legal_person, id_number, license_number, 
      cantacts, cantact_way, regulators, 
      area, grid, supervisor, 
      enterprise_scale, grid_person, risk_rating, 
      risk_rating_lastyear, dynamic_grade, year_assessment, 
      email, office_phone, patrol_frequency, 
      transformation_type, business_status, permission_state, 
      permission_type, ip_id_number, ip_mobile_phone, 
      ip_sexy, ip_education, ip_political_outlook, 
      ip_current_address, ip_nation, ip_email, 
      ip_postal_code, sp_name, spId_number, 
      sp_office_phone, sp_mobile_phone, sp_email, 
      sp_sexy, sp_education, sp_current_address, 
      sp_training, operation_mode, housing_property, 
      owner, owner_id_number, owner_mobile_phone, 
      agent, agent_id_number, agent_mobile_phone, 
      other_phone, integrity_level, production_area, 
      fixed_assets, practitioners, examination_population, 
      warehouse1, warehouse2, warehouse3, 
      abbreviation, introduction, culture, 
      classification, propaganda_enclosure, business_term_start, 
      business_term_end, business_term_flag, given_date, 
      given_gov, business_scale, business_state, 
      abnormal_id, abnormal_content, vr_url, 
      is_stop, gps_flag, operate_time, 
      operate_ip, operator, manage_start_time, 
      manage_end_time, destination, operation_time, 
      bus)
    values (#{id,jdbcType=INTEGER}, #{enterpriseName,jdbcType=VARCHAR}, #{shopName,jdbcType=VARCHAR}, 
      #{postalCode,jdbcType=VARCHAR}, #{registeredAddress,jdbcType=VARCHAR}, #{businessAddress,jdbcType=VARCHAR}, 
      #{legalPerson,jdbcType=VARCHAR}, #{idNumber,jdbcType=VARCHAR}, #{licenseNumber,jdbcType=VARCHAR}, 
      #{cantacts,jdbcType=VARCHAR}, #{cantactWay,jdbcType=VARCHAR}, #{regulators,jdbcType=INTEGER}, 
      #{area,jdbcType=INTEGER}, #{grid,jdbcType=INTEGER}, #{supervisor,jdbcType=VARCHAR}, 
      #{enterpriseScale,jdbcType=VARCHAR}, #{gridPerson,jdbcType=VARCHAR}, #{riskRating,jdbcType=VARCHAR}, 
      #{riskRatingLastyear,jdbcType=VARCHAR}, #{dynamicGrade,jdbcType=VARCHAR}, #{yearAssessment,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{officePhone,jdbcType=VARCHAR}, #{patrolFrequency,jdbcType=VARCHAR}, 
      #{transformationType,jdbcType=VARCHAR}, #{businessStatus,jdbcType=VARCHAR}, #{permissionState,jdbcType=VARCHAR}, 
      #{permissionType,jdbcType=VARCHAR}, #{ipIdNumber,jdbcType=VARCHAR}, #{ipMobilePhone,jdbcType=VARCHAR}, 
      #{ipSexy,jdbcType=VARCHAR}, #{ipEducation,jdbcType=VARCHAR}, #{ipPoliticalOutlook,jdbcType=VARCHAR}, 
      #{ipCurrentAddress,jdbcType=VARCHAR}, #{ipNation,jdbcType=VARCHAR}, #{ipEmail,jdbcType=VARCHAR}, 
      #{ipPostalCode,jdbcType=VARCHAR}, #{spName,jdbcType=VARCHAR}, #{spidNumber,jdbcType=VARCHAR}, 
      #{spOfficePhone,jdbcType=VARCHAR}, #{spMobilePhone,jdbcType=VARCHAR}, #{spEmail,jdbcType=VARCHAR}, 
      #{spSexy,jdbcType=VARCHAR}, #{spEducation,jdbcType=VARCHAR}, #{spCurrentAddress,jdbcType=VARCHAR}, 
      #{spTraining,jdbcType=VARCHAR}, #{operationMode,jdbcType=VARCHAR}, #{housingProperty,jdbcType=VARCHAR}, 
      #{owner,jdbcType=VARCHAR}, #{ownerIdNumber,jdbcType=VARCHAR}, #{ownerMobilePhone,jdbcType=VARCHAR}, 
      #{agent,jdbcType=VARCHAR}, #{agentIdNumber,jdbcType=VARCHAR}, #{agentMobilePhone,jdbcType=VARCHAR}, 
      #{otherPhone,jdbcType=VARCHAR}, #{integrityLevel,jdbcType=VARCHAR}, #{productionArea,jdbcType=INTEGER}, 
      #{fixedAssets,jdbcType=INTEGER}, #{practitioners,jdbcType=VARCHAR}, #{examinationPopulation,jdbcType=INTEGER}, 
      #{warehouse1,jdbcType=VARCHAR}, #{warehouse2,jdbcType=VARCHAR}, #{warehouse3,jdbcType=VARCHAR}, 
      #{abbreviation,jdbcType=VARCHAR}, #{introduction,jdbcType=VARCHAR}, #{culture,jdbcType=VARCHAR}, 
      #{classification,jdbcType=VARCHAR}, #{propagandaEnclosure,jdbcType=VARCHAR}, #{businessTermStart,jdbcType=VARCHAR}, 
      #{businessTermEnd,jdbcType=VARCHAR}, #{businessTermFlag,jdbcType=INTEGER}, #{givenDate,jdbcType=TIMESTAMP}, 
      #{givenGov,jdbcType=VARCHAR}, #{businessScale,jdbcType=VARCHAR}, #{businessState,jdbcType=INTEGER}, 
      #{abnormalId,jdbcType=INTEGER}, #{abnormalContent,jdbcType=VARCHAR}, #{vrUrl,jdbcType=VARCHAR}, 
      #{isStop,jdbcType=INTEGER}, #{gpsFlag,jdbcType=INTEGER}, #{operateTime,jdbcType=TIMESTAMP}, 
      #{operateIp,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, #{manageStartTime,jdbcType=VARCHAR}, 
      #{manageEndTime,jdbcType=VARCHAR}, #{destination,jdbcType=VARCHAR}, #{operationTime,jdbcType=VARCHAR}, 
      #{bus,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.example.upc.dataobject.SupervisionEnterprise">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    insert into supervision_enterprise
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="enterpriseName != null">
        enterprise_name,
      </if>
      <if test="shopName != null">
        shop_name,
      </if>
      <if test="postalCode != null">
        postal_code,
      </if>
      <if test="registeredAddress != null">
        registered_address,
      </if>
      <if test="businessAddress != null">
        business_address,
      </if>
      <if test="legalPerson != null">
        legal_person,
      </if>
      <if test="idNumber != null">
        id_number,
      </if>
      <if test="licenseNumber != null">
        license_number,
      </if>
      <if test="cantacts != null">
        cantacts,
      </if>
      <if test="cantactWay != null">
        cantact_way,
      </if>
      <if test="regulators != null">
        regulators,
      </if>
      <if test="area != null">
        area,
      </if>
      <if test="grid != null">
        grid,
      </if>
      <if test="supervisor != null">
        supervisor,
      </if>
      <if test="enterpriseScale != null">
        enterprise_scale,
      </if>
      <if test="gridPerson != null">
        grid_person,
      </if>
      <if test="riskRating != null">
        risk_rating,
      </if>
      <if test="riskRatingLastyear != null">
        risk_rating_lastyear,
      </if>
      <if test="dynamicGrade != null">
        dynamic_grade,
      </if>
      <if test="yearAssessment != null">
        year_assessment,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="officePhone != null">
        office_phone,
      </if>
      <if test="patrolFrequency != null">
        patrol_frequency,
      </if>
      <if test="transformationType != null">
        transformation_type,
      </if>
      <if test="businessStatus != null">
        business_status,
      </if>
      <if test="permissionState != null">
        permission_state,
      </if>
      <if test="permissionType != null">
        permission_type,
      </if>
      <if test="ipIdNumber != null">
        ip_id_number,
      </if>
      <if test="ipMobilePhone != null">
        ip_mobile_phone,
      </if>
      <if test="ipSexy != null">
        ip_sexy,
      </if>
      <if test="ipEducation != null">
        ip_education,
      </if>
      <if test="ipPoliticalOutlook != null">
        ip_political_outlook,
      </if>
      <if test="ipCurrentAddress != null">
        ip_current_address,
      </if>
      <if test="ipNation != null">
        ip_nation,
      </if>
      <if test="ipEmail != null">
        ip_email,
      </if>
      <if test="ipPostalCode != null">
        ip_postal_code,
      </if>
      <if test="spName != null">
        sp_name,
      </if>
      <if test="spidNumber != null">
        spId_number,
      </if>
      <if test="spOfficePhone != null">
        sp_office_phone,
      </if>
      <if test="spMobilePhone != null">
        sp_mobile_phone,
      </if>
      <if test="spEmail != null">
        sp_email,
      </if>
      <if test="spSexy != null">
        sp_sexy,
      </if>
      <if test="spEducation != null">
        sp_education,
      </if>
      <if test="spCurrentAddress != null">
        sp_current_address,
      </if>
      <if test="spTraining != null">
        sp_training,
      </if>
      <if test="operationMode != null">
        operation_mode,
      </if>
      <if test="housingProperty != null">
        housing_property,
      </if>
      <if test="owner != null">
        owner,
      </if>
      <if test="ownerIdNumber != null">
        owner_id_number,
      </if>
      <if test="ownerMobilePhone != null">
        owner_mobile_phone,
      </if>
      <if test="agent != null">
        agent,
      </if>
      <if test="agentIdNumber != null">
        agent_id_number,
      </if>
      <if test="agentMobilePhone != null">
        agent_mobile_phone,
      </if>
      <if test="otherPhone != null">
        other_phone,
      </if>
      <if test="integrityLevel != null">
        integrity_level,
      </if>
      <if test="productionArea != null">
        production_area,
      </if>
      <if test="fixedAssets != null">
        fixed_assets,
      </if>
      <if test="practitioners != null">
        practitioners,
      </if>
      <if test="examinationPopulation != null">
        examination_population,
      </if>
      <if test="warehouse1 != null">
        warehouse1,
      </if>
      <if test="warehouse2 != null">
        warehouse2,
      </if>
      <if test="warehouse3 != null">
        warehouse3,
      </if>
      <if test="abbreviation != null">
        abbreviation,
      </if>
      <if test="introduction != null">
        introduction,
      </if>
      <if test="culture != null">
        culture,
      </if>
      <if test="classification != null">
        classification,
      </if>
      <if test="propagandaEnclosure != null">
        propaganda_enclosure,
      </if>
      <if test="businessTermStart != null">
        business_term_start,
      </if>
      <if test="businessTermEnd != null">
        business_term_end,
      </if>
      <if test="businessTermFlag != null">
        business_term_flag,
      </if>
      <if test="givenDate != null">
        given_date,
      </if>
      <if test="givenGov != null">
        given_gov,
      </if>
      <if test="businessScale != null">
        business_scale,
      </if>
      <if test="businessState != null">
        business_state,
      </if>
      <if test="abnormalId != null">
        abnormal_id,
      </if>
      <if test="abnormalContent != null">
        abnormal_content,
      </if>
      <if test="vrUrl != null">
        vr_url,
      </if>
      <if test="isStop != null">
        is_stop,
      </if>
      <if test="gpsFlag != null">
        gps_flag,
      </if>
      <if test="operateTime != null">
        operate_time,
      </if>
      <if test="operateIp != null">
        operate_ip,
      </if>
      <if test="operator != null">
        operator,
      </if>
      <if test="manageStartTime != null">
        manage_start_time,
      </if>
      <if test="manageEndTime != null">
        manage_end_time,
      </if>
      <if test="destination != null">
        destination,
      </if>
      <if test="operationTime != null">
        operation_time,
      </if>
      <if test="bus != null">
        bus,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="enterpriseName != null">
        #{enterpriseName,jdbcType=VARCHAR},
      </if>
      <if test="shopName != null">
        #{shopName,jdbcType=VARCHAR},
      </if>
      <if test="postalCode != null">
        #{postalCode,jdbcType=VARCHAR},
      </if>
      <if test="registeredAddress != null">
        #{registeredAddress,jdbcType=VARCHAR},
      </if>
      <if test="businessAddress != null">
        #{businessAddress,jdbcType=VARCHAR},
      </if>
      <if test="legalPerson != null">
        #{legalPerson,jdbcType=VARCHAR},
      </if>
      <if test="idNumber != null">
        #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="licenseNumber != null">
        #{licenseNumber,jdbcType=VARCHAR},
      </if>
      <if test="cantacts != null">
        #{cantacts,jdbcType=VARCHAR},
      </if>
      <if test="cantactWay != null">
        #{cantactWay,jdbcType=VARCHAR},
      </if>
      <if test="regulators != null">
        #{regulators,jdbcType=INTEGER},
      </if>
      <if test="area != null">
        #{area,jdbcType=INTEGER},
      </if>
      <if test="grid != null">
        #{grid,jdbcType=INTEGER},
      </if>
      <if test="supervisor != null">
        #{supervisor,jdbcType=VARCHAR},
      </if>
      <if test="enterpriseScale != null">
        #{enterpriseScale,jdbcType=VARCHAR},
      </if>
      <if test="gridPerson != null">
        #{gridPerson,jdbcType=VARCHAR},
      </if>
      <if test="riskRating != null">
        #{riskRating,jdbcType=VARCHAR},
      </if>
      <if test="riskRatingLastyear != null">
        #{riskRatingLastyear,jdbcType=VARCHAR},
      </if>
      <if test="dynamicGrade != null">
        #{dynamicGrade,jdbcType=VARCHAR},
      </if>
      <if test="yearAssessment != null">
        #{yearAssessment,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="officePhone != null">
        #{officePhone,jdbcType=VARCHAR},
      </if>
      <if test="patrolFrequency != null">
        #{patrolFrequency,jdbcType=VARCHAR},
      </if>
      <if test="transformationType != null">
        #{transformationType,jdbcType=VARCHAR},
      </if>
      <if test="businessStatus != null">
        #{businessStatus,jdbcType=VARCHAR},
      </if>
      <if test="permissionState != null">
        #{permissionState,jdbcType=VARCHAR},
      </if>
      <if test="permissionType != null">
        #{permissionType,jdbcType=VARCHAR},
      </if>
      <if test="ipIdNumber != null">
        #{ipIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="ipMobilePhone != null">
        #{ipMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="ipSexy != null">
        #{ipSexy,jdbcType=VARCHAR},
      </if>
      <if test="ipEducation != null">
        #{ipEducation,jdbcType=VARCHAR},
      </if>
      <if test="ipPoliticalOutlook != null">
        #{ipPoliticalOutlook,jdbcType=VARCHAR},
      </if>
      <if test="ipCurrentAddress != null">
        #{ipCurrentAddress,jdbcType=VARCHAR},
      </if>
      <if test="ipNation != null">
        #{ipNation,jdbcType=VARCHAR},
      </if>
      <if test="ipEmail != null">
        #{ipEmail,jdbcType=VARCHAR},
      </if>
      <if test="ipPostalCode != null">
        #{ipPostalCode,jdbcType=VARCHAR},
      </if>
      <if test="spName != null">
        #{spName,jdbcType=VARCHAR},
      </if>
      <if test="spidNumber != null">
        #{spidNumber,jdbcType=VARCHAR},
      </if>
      <if test="spOfficePhone != null">
        #{spOfficePhone,jdbcType=VARCHAR},
      </if>
      <if test="spMobilePhone != null">
        #{spMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="spEmail != null">
        #{spEmail,jdbcType=VARCHAR},
      </if>
      <if test="spSexy != null">
        #{spSexy,jdbcType=VARCHAR},
      </if>
      <if test="spEducation != null">
        #{spEducation,jdbcType=VARCHAR},
      </if>
      <if test="spCurrentAddress != null">
        #{spCurrentAddress,jdbcType=VARCHAR},
      </if>
      <if test="spTraining != null">
        #{spTraining,jdbcType=VARCHAR},
      </if>
      <if test="operationMode != null">
        #{operationMode,jdbcType=VARCHAR},
      </if>
      <if test="housingProperty != null">
        #{housingProperty,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        #{owner,jdbcType=VARCHAR},
      </if>
      <if test="ownerIdNumber != null">
        #{ownerIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="ownerMobilePhone != null">
        #{ownerMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="agent != null">
        #{agent,jdbcType=VARCHAR},
      </if>
      <if test="agentIdNumber != null">
        #{agentIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="agentMobilePhone != null">
        #{agentMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="otherPhone != null">
        #{otherPhone,jdbcType=VARCHAR},
      </if>
      <if test="integrityLevel != null">
        #{integrityLevel,jdbcType=VARCHAR},
      </if>
      <if test="productionArea != null">
        #{productionArea,jdbcType=INTEGER},
      </if>
      <if test="fixedAssets != null">
        #{fixedAssets,jdbcType=INTEGER},
      </if>
      <if test="practitioners != null">
        #{practitioners,jdbcType=VARCHAR},
      </if>
      <if test="examinationPopulation != null">
        #{examinationPopulation,jdbcType=INTEGER},
      </if>
      <if test="warehouse1 != null">
        #{warehouse1,jdbcType=VARCHAR},
      </if>
      <if test="warehouse2 != null">
        #{warehouse2,jdbcType=VARCHAR},
      </if>
      <if test="warehouse3 != null">
        #{warehouse3,jdbcType=VARCHAR},
      </if>
      <if test="abbreviation != null">
        #{abbreviation,jdbcType=VARCHAR},
      </if>
      <if test="introduction != null">
        #{introduction,jdbcType=VARCHAR},
      </if>
      <if test="culture != null">
        #{culture,jdbcType=VARCHAR},
      </if>
      <if test="classification != null">
        #{classification,jdbcType=VARCHAR},
      </if>
      <if test="propagandaEnclosure != null">
        #{propagandaEnclosure,jdbcType=VARCHAR},
      </if>
      <if test="businessTermStart != null">
        #{businessTermStart,jdbcType=VARCHAR},
      </if>
      <if test="businessTermEnd != null">
        #{businessTermEnd,jdbcType=VARCHAR},
      </if>
      <if test="businessTermFlag != null">
        #{businessTermFlag,jdbcType=INTEGER},
      </if>
      <if test="givenDate != null">
        #{givenDate,jdbcType=TIMESTAMP},
      </if>
      <if test="givenGov != null">
        #{givenGov,jdbcType=VARCHAR},
      </if>
      <if test="businessScale != null">
        #{businessScale,jdbcType=VARCHAR},
      </if>
      <if test="businessState != null">
        #{businessState,jdbcType=INTEGER},
      </if>
      <if test="abnormalId != null">
        #{abnormalId,jdbcType=INTEGER},
      </if>
      <if test="abnormalContent != null">
        #{abnormalContent,jdbcType=VARCHAR},
      </if>
      <if test="vrUrl != null">
        #{vrUrl,jdbcType=VARCHAR},
      </if>
      <if test="isStop != null">
        #{isStop,jdbcType=INTEGER},
      </if>
      <if test="gpsFlag != null">
        #{gpsFlag,jdbcType=INTEGER},
      </if>
      <if test="operateTime != null">
        #{operateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="operateIp != null">
        #{operateIp,jdbcType=VARCHAR},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="manageStartTime != null">
        #{manageStartTime,jdbcType=VARCHAR},
      </if>
      <if test="manageEndTime != null">
        #{manageEndTime,jdbcType=VARCHAR},
      </if>
      <if test="destination != null">
        #{destination,jdbcType=VARCHAR},
      </if>
      <if test="operationTime != null">
        #{operationTime,jdbcType=VARCHAR},
      </if>
      <if test="bus != null">
        #{bus,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.example.upc.dataobject.SupervisionEnterprise">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    update supervision_enterprise
    <set>
      <if test="enterpriseName != null">
        enterprise_name = #{enterpriseName,jdbcType=VARCHAR},
      </if>
      <if test="shopName != null">
        shop_name = #{shopName,jdbcType=VARCHAR},
      </if>
      <if test="postalCode != null">
        postal_code = #{postalCode,jdbcType=VARCHAR},
      </if>
      <if test="registeredAddress != null">
        registered_address = #{registeredAddress,jdbcType=VARCHAR},
      </if>
      <if test="businessAddress != null">
        business_address = #{businessAddress,jdbcType=VARCHAR},
      </if>
      <if test="legalPerson != null">
        legal_person = #{legalPerson,jdbcType=VARCHAR},
      </if>
      <if test="idNumber != null">
        id_number = #{idNumber,jdbcType=VARCHAR},
      </if>
      <if test="licenseNumber != null">
        license_number = #{licenseNumber,jdbcType=VARCHAR},
      </if>
      <if test="cantacts != null">
        cantacts = #{cantacts,jdbcType=VARCHAR},
      </if>
      <if test="cantactWay != null">
        cantact_way = #{cantactWay,jdbcType=VARCHAR},
      </if>
      <if test="regulators != null">
        regulators = #{regulators,jdbcType=INTEGER},
      </if>
      <if test="area != null">
        area = #{area,jdbcType=INTEGER},
      </if>
      <if test="grid != null">
        grid = #{grid,jdbcType=INTEGER},
      </if>
      <if test="supervisor != null">
        supervisor = #{supervisor,jdbcType=VARCHAR},
      </if>
      <if test="enterpriseScale != null">
        enterprise_scale = #{enterpriseScale,jdbcType=VARCHAR},
      </if>
      <if test="gridPerson != null">
        grid_person = #{gridPerson,jdbcType=VARCHAR},
      </if>
      <if test="riskRating != null">
        risk_rating = #{riskRating,jdbcType=VARCHAR},
      </if>
      <if test="riskRatingLastyear != null">
        risk_rating_lastyear = #{riskRatingLastyear,jdbcType=VARCHAR},
      </if>
      <if test="dynamicGrade != null">
        dynamic_grade = #{dynamicGrade,jdbcType=VARCHAR},
      </if>
      <if test="yearAssessment != null">
        year_assessment = #{yearAssessment,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="officePhone != null">
        office_phone = #{officePhone,jdbcType=VARCHAR},
      </if>
      <if test="patrolFrequency != null">
        patrol_frequency = #{patrolFrequency,jdbcType=VARCHAR},
      </if>
      <if test="transformationType != null">
        transformation_type = #{transformationType,jdbcType=VARCHAR},
      </if>
      <if test="businessStatus != null">
        business_status = #{businessStatus,jdbcType=VARCHAR},
      </if>
      <if test="permissionState != null">
        permission_state = #{permissionState,jdbcType=VARCHAR},
      </if>
      <if test="permissionType != null">
        permission_type = #{permissionType,jdbcType=VARCHAR},
      </if>
      <if test="ipIdNumber != null">
        ip_id_number = #{ipIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="ipMobilePhone != null">
        ip_mobile_phone = #{ipMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="ipSexy != null">
        ip_sexy = #{ipSexy,jdbcType=VARCHAR},
      </if>
      <if test="ipEducation != null">
        ip_education = #{ipEducation,jdbcType=VARCHAR},
      </if>
      <if test="ipPoliticalOutlook != null">
        ip_political_outlook = #{ipPoliticalOutlook,jdbcType=VARCHAR},
      </if>
      <if test="ipCurrentAddress != null">
        ip_current_address = #{ipCurrentAddress,jdbcType=VARCHAR},
      </if>
      <if test="ipNation != null">
        ip_nation = #{ipNation,jdbcType=VARCHAR},
      </if>
      <if test="ipEmail != null">
        ip_email = #{ipEmail,jdbcType=VARCHAR},
      </if>
      <if test="ipPostalCode != null">
        ip_postal_code = #{ipPostalCode,jdbcType=VARCHAR},
      </if>
      <if test="spName != null">
        sp_name = #{spName,jdbcType=VARCHAR},
      </if>
      <if test="spidNumber != null">
        spId_number = #{spidNumber,jdbcType=VARCHAR},
      </if>
      <if test="spOfficePhone != null">
        sp_office_phone = #{spOfficePhone,jdbcType=VARCHAR},
      </if>
      <if test="spMobilePhone != null">
        sp_mobile_phone = #{spMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="spEmail != null">
        sp_email = #{spEmail,jdbcType=VARCHAR},
      </if>
      <if test="spSexy != null">
        sp_sexy = #{spSexy,jdbcType=VARCHAR},
      </if>
      <if test="spEducation != null">
        sp_education = #{spEducation,jdbcType=VARCHAR},
      </if>
      <if test="spCurrentAddress != null">
        sp_current_address = #{spCurrentAddress,jdbcType=VARCHAR},
      </if>
      <if test="spTraining != null">
        sp_training = #{spTraining,jdbcType=VARCHAR},
      </if>
      <if test="operationMode != null">
        operation_mode = #{operationMode,jdbcType=VARCHAR},
      </if>
      <if test="housingProperty != null">
        housing_property = #{housingProperty,jdbcType=VARCHAR},
      </if>
      <if test="owner != null">
        owner = #{owner,jdbcType=VARCHAR},
      </if>
      <if test="ownerIdNumber != null">
        owner_id_number = #{ownerIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="ownerMobilePhone != null">
        owner_mobile_phone = #{ownerMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="agent != null">
        agent = #{agent,jdbcType=VARCHAR},
      </if>
      <if test="agentIdNumber != null">
        agent_id_number = #{agentIdNumber,jdbcType=VARCHAR},
      </if>
      <if test="agentMobilePhone != null">
        agent_mobile_phone = #{agentMobilePhone,jdbcType=VARCHAR},
      </if>
      <if test="otherPhone != null">
        other_phone = #{otherPhone,jdbcType=VARCHAR},
      </if>
      <if test="integrityLevel != null">
        integrity_level = #{integrityLevel,jdbcType=VARCHAR},
      </if>
      <if test="productionArea != null">
        production_area = #{productionArea,jdbcType=INTEGER},
      </if>
      <if test="fixedAssets != null">
        fixed_assets = #{fixedAssets,jdbcType=INTEGER},
      </if>
      <if test="practitioners != null">
        practitioners = #{practitioners,jdbcType=VARCHAR},
      </if>
      <if test="examinationPopulation != null">
        examination_population = #{examinationPopulation,jdbcType=INTEGER},
      </if>
      <if test="warehouse1 != null">
        warehouse1 = #{warehouse1,jdbcType=VARCHAR},
      </if>
      <if test="warehouse2 != null">
        warehouse2 = #{warehouse2,jdbcType=VARCHAR},
      </if>
      <if test="warehouse3 != null">
        warehouse3 = #{warehouse3,jdbcType=VARCHAR},
      </if>
      <if test="abbreviation != null">
        abbreviation = #{abbreviation,jdbcType=VARCHAR},
      </if>
      <if test="introduction != null">
        introduction = #{introduction,jdbcType=VARCHAR},
      </if>
      <if test="culture != null">
        culture = #{culture,jdbcType=VARCHAR},
      </if>
      <if test="classification != null">
        classification = #{classification,jdbcType=VARCHAR},
      </if>
      <if test="propagandaEnclosure != null">
        propaganda_enclosure = #{propagandaEnclosure,jdbcType=VARCHAR},
      </if>
      <if test="businessTermStart != null">
        business_term_start = #{businessTermStart,jdbcType=VARCHAR},
      </if>
      <if test="businessTermEnd != null">
        business_term_end = #{businessTermEnd,jdbcType=VARCHAR},
      </if>
      <if test="businessTermFlag != null">
        business_term_flag = #{businessTermFlag,jdbcType=INTEGER},
      </if>
      <if test="givenDate != null">
        given_date = #{givenDate,jdbcType=TIMESTAMP},
      </if>
      <if test="givenGov != null">
        given_gov = #{givenGov,jdbcType=VARCHAR},
      </if>
      <if test="businessScale != null">
        business_scale = #{businessScale,jdbcType=VARCHAR},
      </if>
      <if test="businessState != null">
        business_state = #{businessState,jdbcType=INTEGER},
      </if>
      <if test="abnormalId != null">
        abnormal_id = #{abnormalId,jdbcType=INTEGER},
      </if>
      <if test="abnormalContent != null">
        abnormal_content = #{abnormalContent,jdbcType=VARCHAR},
      </if>
      <if test="vrUrl != null">
        vr_url = #{vrUrl,jdbcType=VARCHAR},
      </if>
      <if test="isStop != null">
        is_stop = #{isStop,jdbcType=INTEGER},
      </if>
      <if test="gpsFlag != null">
        gps_flag = #{gpsFlag,jdbcType=INTEGER},
      </if>
      <if test="operateTime != null">
        operate_time = #{operateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="operateIp != null">
        operate_ip = #{operateIp,jdbcType=VARCHAR},
      </if>
      <if test="operator != null">
        operator = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="manageStartTime != null">
        manage_start_time = #{manageStartTime,jdbcType=VARCHAR},
      </if>
      <if test="manageEndTime != null">
        manage_end_time = #{manageEndTime,jdbcType=VARCHAR},
      </if>
      <if test="destination != null">
        destination = #{destination,jdbcType=VARCHAR},
      </if>
      <if test="operationTime != null">
        operation_time = #{operationTime,jdbcType=VARCHAR},
      </if>
      <if test="bus != null">
        bus = #{bus,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.example.upc.dataobject.SupervisionEnterprise">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Sep 21 15:30:47 CST 2020.
    -->
    update supervision_enterprise
    set enterprise_name = #{enterpriseName,jdbcType=VARCHAR},
      shop_name = #{shopName,jdbcType=VARCHAR},
      postal_code = #{postalCode,jdbcType=VARCHAR},
      registered_address = #{registeredAddress,jdbcType=VARCHAR},
      business_address = #{businessAddress,jdbcType=VARCHAR},
      legal_person = #{legalPerson,jdbcType=VARCHAR},
      id_number = #{idNumber,jdbcType=VARCHAR},
      license_number = #{licenseNumber,jdbcType=VARCHAR},
      cantacts = #{cantacts,jdbcType=VARCHAR},
      cantact_way = #{cantactWay,jdbcType=VARCHAR},
      regulators = #{regulators,jdbcType=INTEGER},
      area = #{area,jdbcType=INTEGER},
      grid = #{grid,jdbcType=INTEGER},
      supervisor = #{supervisor,jdbcType=VARCHAR},
      enterprise_scale = #{enterpriseScale,jdbcType=VARCHAR},
      grid_person = #{gridPerson,jdbcType=VARCHAR},
      risk_rating = #{riskRating,jdbcType=VARCHAR},
      risk_rating_lastyear = #{riskRatingLastyear,jdbcType=VARCHAR},
      dynamic_grade = #{dynamicGrade,jdbcType=VARCHAR},
      year_assessment = #{yearAssessment,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      office_phone = #{officePhone,jdbcType=VARCHAR},
      patrol_frequency = #{patrolFrequency,jdbcType=VARCHAR},
      transformation_type = #{transformationType,jdbcType=VARCHAR},
      business_status = #{businessStatus,jdbcType=VARCHAR},
      permission_state = #{permissionState,jdbcType=VARCHAR},
      permission_type = #{permissionType,jdbcType=VARCHAR},
      ip_id_number = #{ipIdNumber,jdbcType=VARCHAR},
      ip_mobile_phone = #{ipMobilePhone,jdbcType=VARCHAR},
      ip_sexy = #{ipSexy,jdbcType=VARCHAR},
      ip_education = #{ipEducation,jdbcType=VARCHAR},
      ip_political_outlook = #{ipPoliticalOutlook,jdbcType=VARCHAR},
      ip_current_address = #{ipCurrentAddress,jdbcType=VARCHAR},
      ip_nation = #{ipNation,jdbcType=VARCHAR},
      ip_email = #{ipEmail,jdbcType=VARCHAR},
      ip_postal_code = #{ipPostalCode,jdbcType=VARCHAR},
      sp_name = #{spName,jdbcType=VARCHAR},
      spId_number = #{spidNumber,jdbcType=VARCHAR},
      sp_office_phone = #{spOfficePhone,jdbcType=VARCHAR},
      sp_mobile_phone = #{spMobilePhone,jdbcType=VARCHAR},
      sp_email = #{spEmail,jdbcType=VARCHAR},
      sp_sexy = #{spSexy,jdbcType=VARCHAR},
      sp_education = #{spEducation,jdbcType=VARCHAR},
      sp_current_address = #{spCurrentAddress,jdbcType=VARCHAR},
      sp_training = #{spTraining,jdbcType=VARCHAR},
      operation_mode = #{operationMode,jdbcType=VARCHAR},
      housing_property = #{housingProperty,jdbcType=VARCHAR},
      owner = #{owner,jdbcType=VARCHAR},
      owner_id_number = #{ownerIdNumber,jdbcType=VARCHAR},
      owner_mobile_phone = #{ownerMobilePhone,jdbcType=VARCHAR},
      agent = #{agent,jdbcType=VARCHAR},
      agent_id_number = #{agentIdNumber,jdbcType=VARCHAR},
      agent_mobile_phone = #{agentMobilePhone,jdbcType=VARCHAR},
      other_phone = #{otherPhone,jdbcType=VARCHAR},
      integrity_level = #{integrityLevel,jdbcType=VARCHAR},
      production_area = #{productionArea,jdbcType=INTEGER},
      fixed_assets = #{fixedAssets,jdbcType=INTEGER},
      practitioners = #{practitioners,jdbcType=VARCHAR},
      examination_population = #{examinationPopulation,jdbcType=INTEGER},
      warehouse1 = #{warehouse1,jdbcType=VARCHAR},
      warehouse2 = #{warehouse2,jdbcType=VARCHAR},
      warehouse3 = #{warehouse3,jdbcType=VARCHAR},
      abbreviation = #{abbreviation,jdbcType=VARCHAR},
      introduction = #{introduction,jdbcType=VARCHAR},
      culture = #{culture,jdbcType=VARCHAR},
      classification = #{classification,jdbcType=VARCHAR},
      propaganda_enclosure = #{propagandaEnclosure,jdbcType=VARCHAR},
      business_term_start = #{businessTermStart,jdbcType=VARCHAR},
      business_term_end = #{businessTermEnd,jdbcType=VARCHAR},
      business_term_flag = #{businessTermFlag,jdbcType=INTEGER},
      given_date = #{givenDate,jdbcType=TIMESTAMP},
      given_gov = #{givenGov,jdbcType=VARCHAR},
      business_scale = #{businessScale,jdbcType=VARCHAR},
      business_state = #{businessState,jdbcType=INTEGER},
      abnormal_id = #{abnormalId,jdbcType=INTEGER},
      abnormal_content = #{abnormalContent,jdbcType=VARCHAR},
      vr_url = #{vrUrl,jdbcType=VARCHAR},
      is_stop = #{isStop,jdbcType=INTEGER},
      gps_flag = #{gpsFlag,jdbcType=INTEGER},
      operate_time = #{operateTime,jdbcType=TIMESTAMP},
      operate_ip = #{operateIp,jdbcType=VARCHAR},
      operator = #{operator,jdbcType=VARCHAR},
      manage_start_time = #{manageStartTime,jdbcType=VARCHAR},
      manage_end_time = #{manageEndTime,jdbcType=VARCHAR},
      destination = #{destination,jdbcType=VARCHAR},
      operation_time = #{operationTime,jdbcType=VARCHAR},
      bus = #{bus,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <resultMap id="SmileMap" type="com.example.upc.controller.param.SmilePoints">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="enterprise_id" jdbcType="INTEGER" property="enterpriseId" />
    <result column="enterprise_name" jdbcType="INTEGER" property="enterpriseName" />
    <result column="shop_name" jdbcType="VARCHAR" property="shopName" />
    <result column="cantact_way" jdbcType="VARCHAR" property="cantactWay" />
    <result column="point_id" jdbcType="INTEGER" property="pointId" />
    <result column="point" jdbcType="VARCHAR" property="point" />
    <result column="area" jdbcType="INTEGER" property="area" />
    <result column="grid" jdbcType="INTEGER" property="grid" />
    <result column="registered_address" jdbcType="VARCHAR" property="registered_address" />
    <result column="dynamic_grade" jdbcType="VARCHAR" property="dynamic_grade" />
    <result column="propaganda_enclosure" jdbcType="VARCHAR" property="propagandaEnclosure" />
    <result column="operation_mode" jdbcType="VARCHAR" property="operationMode" />
    <result column="business_state" jdbcType="INTEGER" property="businessState" />
    <result column="business_type" jdbcType="VARCHAR" property="businessType" />
    <result column="max_time" jdbcType="TIMESTAMP" property="endTime" />
    <result column="a1_id" jdbcType="INTEGER" property="foodBusiness" />
    <result column="a2_id" jdbcType="INTEGER" property="foodCommon" />
    <result column="a3_id" jdbcType="INTEGER" property="foodCirculate" />
    <result column="a4_id" jdbcType="INTEGER" property="foodProduce" />
    <result column="a5_id" jdbcType="INTEGER" property="drugsBusiness" />
    <result column="a6_id" jdbcType="INTEGER" property="medicalUse" />
    <result column="a7_id" jdbcType="INTEGER" property="cosmeticsUse" />

  </resultMap>

  <resultMap id="ListResultMap" type="com.example.upc.controller.param.EnterpriseListResult">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="enterprise_name" jdbcType="VARCHAR" property="enterpriseName" />
    <result column="operation_mode" jdbcType="VARCHAR" property="operationMode" />
    <result column="legal_person" jdbcType="VARCHAR" property="legalPerson" />
    <result column="cantact_way" jdbcType="VARCHAR" property="cantactWay" />
    <result column="enterprise_scale" jdbcType="VARCHAR" property="enterpriseScale" />
    <result column="id_number" jdbcType="VARCHAR" property="idNumber" />
    <result column="area" jdbcType="INTEGER" property="area" />
    <result column="grid" jdbcType="VARCHAR" property="grid" />
    <result column="supervisor" jdbcType="VARCHAR" property="supervisor" />
    <result column="regulators" jdbcType="INTEGER" property="regulators" />
    <result column="is_stop" jdbcType="VARCHAR" property="isStop" />
    <result column="business_state" jdbcType="INTEGER" property="businessState" />
    <result column="abnormal_id" jdbcType="INTEGER" property="abnormalId" />
    <result column="abnormal_content" jdbcType="VARCHAR" property="abnormalContent" />
    <result column="max_time" jdbcType="TIMESTAMP" property="endTime" />
    <result column="a1_id" jdbcType="INTEGER" property="foodBusiness" />
    <result column="a2_id" jdbcType="INTEGER" property="foodCommon" />
    <result column="a3_id" jdbcType="INTEGER" property="foodCirculate" />
    <result column="a4_id" jdbcType="INTEGER" property="foodProduce" />
    <result column="a5_id" jdbcType="INTEGER" property="drugsBusiness" />
    <result column="a6_id" jdbcType="INTEGER" property="medicalUse" />
    <result column="a7_id" jdbcType="INTEGER" property="cosmeticsUse" />
  </resultMap>

  <sql id="List_Column_List">
    id,operation_mode,enterprise_name,legal_person,cantact_way,enterprise_scale,id_number,area,grid,regulators,is_stop,supervisor,business_state,abnormal_id,abnormal_content
  </sql>

  <sql id="List_Column_Phone">
    id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,point_id,point
  </sql>

  <select id="countList" resultType="int">
    SELECT count(1) FROM(
    SELECT * FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
      <trim prefix="WHERE" prefixOverrides="OR">
        <if test="search.industryList.contains('foodBusiness')">
          a1_id
        </if>
        <if test="search.industryList.contains('smallCater')">
          OR a2_id
        </if>
        <if test="search.industryList.contains('smallWorkshop')">
          OR a3_id
        </if>
        <if test="search.industryList.contains('foodProduce')">
          OR a4_id
        </if>
        <if test="search.industryList.contains('drugsBusiness')">
          OR a5_id
        </if>
        <if test="search.industryList.contains('drugsProduce')">
          OR a6_id
        </if>
        <if test="search.industryList.contains('cosmeticsUse')">
          OR a7_id
        </if>
        <if test="search.industryList.contains('medicalProduce')">
          OR a8_id
        </if>
        <if test="search.industryList.contains('medicalBusiness')">
          OR a9_id
        </if>
        <if test="search.industryList.contains('industrialProducts')">
          OR a10_id
        </if>
      </trim>
      union
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>) as a
  </select>

  <select id="getPage" resultMap="ListResultMap">
select * from (
    SELECT <include refid="List_Column_List" />,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    (select MIN( maxtime ) from(
    <trim prefixOverrides="union">
      <if test="search.industryList.contains('foodBusiness')">
        select a1_time as maxtime
      </if>
      <if test="search.industryList.contains('smallCater')">
        union select a2_time as maxtime
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        union select a3_time as maxtime
      </if>
      <if test="search.industryList.contains('foodProduce')">
        union select a4_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        union select a5_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        union select a6_time as maxtime
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        union select a7_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        union select a8_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        union select a9_time as maxtime
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        union select a10_time as maxtime
      </if>
    </trim>
    ) A) as max_time FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
      <trim prefix="WHERE" prefixOverrides="OR">
        <if test="search.industryList.contains('foodBusiness')">
          a1_id
        </if>
        <if test="search.industryList.contains('smallCater')">
          OR a2_id
        </if>
        <if test="search.industryList.contains('smallWorkshop')">
          OR a3_id
        </if>
        <if test="search.industryList.contains('foodProduce')">
          OR a4_id
        </if>
        <if test="search.industryList.contains('drugsBusiness')">
          OR a5_id
        </if>
        <if test="search.industryList.contains('drugsProduce')">
          OR a6_id
        </if>
        <if test="search.industryList.contains('cosmeticsUse')">
          OR a7_id
        </if>
        <if test="search.industryList.contains('medicalProduce')">
          OR a8_id
        </if>
        <if test="search.industryList.contains('medicalBusiness')">
          OR a9_id
        </if>
        <if test="search.industryList.contains('industrialProducts')">
          OR a10_id
        </if>
      </trim>
      union
    SELECT <include refid="List_Column_List" />,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    (select MIN( maxtime ) from(
    <trim prefixOverrides="union">
      <if test="search.industryList.contains('foodBusiness')">
        select a1_time as maxtime
      </if>
      <if test="search.industryList.contains('smallCater')">
        union select a2_time as maxtime
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        union select a3_time as maxtime
      </if>
      <if test="search.industryList.contains('foodProduce')">
        union select a4_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        union select a5_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        union select a6_time as maxtime
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        union select a7_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        union select a8_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        union select a9_time as maxtime
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        union select a10_time as maxtime
      </if>
    </trim>
    ) A) as max_time FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    ) as a
    ORDER BY max_time DESC,id DESC
    limit #{page.offset}, #{page.pageSize}
  </select>

  <select id="countListState" resultType="int">
    SELECT count(1) FROM(
    SELECT * FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state =3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.abnormalId != null">AND abnormal_id = #{search.abnormalId}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    <trim prefix="WHERE" prefixOverrides="OR">
      <if test="search.industryList.contains('foodBusiness')">
        a1_id
      </if>
      <if test="search.industryList.contains('smallCater')">
        OR a2_id
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        OR a3_id
      </if>
      <if test="search.industryList.contains('foodProduce')">
        OR a4_id
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        OR a5_id
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        OR a6_id
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        OR a7_id
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        OR a8_id
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        OR a9_id
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        OR a10_id
      </if>
    </trim>
    union
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state =3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.abnormalId != null">AND abnormal_id = #{search.abnormalId}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>) as a
  </select>

  <select id="getPageState" resultMap="ListResultMap">
    select * from (
    SELECT <include refid="List_Column_List" />,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    (select MIN( maxtime ) from(
    <trim prefixOverrides="union">
      <if test="search.industryList.contains('foodBusiness')">
        select a1_time as maxtime
      </if>
      <if test="search.industryList.contains('smallCater')">
        union select a2_time as maxtime
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        union select a3_time as maxtime
      </if>
      <if test="search.industryList.contains('foodProduce')">
        union select a4_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        union select a5_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        union select a6_time as maxtime
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        union select a7_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        union select a8_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        union select a9_time as maxtime
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        union select a10_time as maxtime
      </if>
    </trim>
    ) A) as max_time FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state =3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.abnormalId != null">AND abnormal_id = #{search.abnormalId}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    <trim prefix="WHERE" prefixOverrides="OR">
      <if test="search.industryList.contains('foodBusiness')">
        a1_id
      </if>
      <if test="search.industryList.contains('smallCater')">
        OR a2_id
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        OR a3_id
      </if>
      <if test="search.industryList.contains('foodProduce')">
        OR a4_id
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        OR a5_id
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        OR a6_id
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        OR a7_id
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        OR a8_id
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        OR a9_id
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        OR a10_id
      </if>
    </trim>
    union
    SELECT <include refid="List_Column_List" />,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    (select MIN( maxtime ) from(
    <trim prefixOverrides="union">
      <if test="search.industryList.contains('foodBusiness')">
        select a1_time as maxtime
      </if>
      <if test="search.industryList.contains('smallCater')">
        union select a2_time as maxtime
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        union select a3_time as maxtime
      </if>
      <if test="search.industryList.contains('foodProduce')">
        union select a4_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        union select a5_time as maxtime
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        union select a6_time as maxtime
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        union select a7_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        union select a8_time as maxtime
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        union select a9_time as maxtime
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        union select a10_time as maxtime
      </if>
    </trim>
    ) A) as max_time FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state =3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.creditCode != null and search.creditCode != ''">AND id_number LIKE CONCAT('%',#{search.creditCode},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.enterpriseScale != null and search.enterpriseScale != ''">AND enterprise_scale =#{search.enterpriseScale}</if>
    <if test="search.isStop != null">AND is_stop = #{search.isStop} </if>
    <if test="search.legalPerson != null and search.legalPerson != ''">AND legal_person LIKE CONCAT('%',#{search.legalPerson},'%')</if>
    <if test="search.abnormalId != null">AND abnormal_id = #{search.abnormalId}</if>
    <if test="search.permissionStatus != null and search.permissionStatus != ''">AND permission_state =#{search.permissionStatus}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    ) as a
    ORDER BY max_time DESC,id DESC
    limit #{page.offset}, #{page.pageSize}
  </select>


  <select id="countListPhone" resultType="int">
  SELECT count(1) FROM(
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id FROM (</if>
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,point_id,point FROM view_enterprise_point WHERE area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>

    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    union
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id FROM (</if>
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,point_id,point FROM view_enterprise_point WHERE permission_type = '' and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>

    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
  ) as a where 1=1
    <if test="search.operationMode != null and search.operationMode != ''">
      AND a.operation_mode = #{search.operationMode}
    </if>
  </select>

  <select id="getListPhone" resultMap="SmileMap">
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,propaganda_enclosure,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    point_id,point
    FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id FROM (</if>
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,propaganda_enclosure,point_id,point FROM view_enterprise_point WHERE area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>

    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id

      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    <trim prefix="WHERE" prefixOverrides="OR">
      <if test="search.industryList.contains('foodBusiness')">
        a1_id
      </if>
      <if test="search.industryList.contains('smallCater')">
        OR a2_id
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        OR a3_id
      </if>
      <if test="search.industryList.contains('foodProduce')">
        OR a4_id
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        OR a5_id
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        OR a6_id
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        OR a7_id
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        OR a8_id
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        OR a9_id
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        OR a10_id
      </if>
    </trim>
    union
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,propaganda_enclosure,
    <if test="search.industryList.contains('foodBusiness')">a1_id,</if>
    <if test="search.industryList.contains('smallCater')">a2_id,</if>
    <if test="search.industryList.contains('smallWorkshop')">a3_id,</if>
    <if test="search.industryList.contains('foodProduce')">a4_id,</if>
    <if test="search.industryList.contains('drugsBusiness')">a5_id,</if>
    <if test="search.industryList.contains('drugsProduce')">a6_id,</if>
    <if test="search.industryList.contains('cosmeticsUse')">a7_id,</if>
    <if test="search.industryList.contains('medicalProduce')">a8_id,</if>
    <if test="search.industryList.contains('medicalBusiness')">a9_id,</if>
    <if test="search.industryList.contains('industrialProducts')">a10_id,</if>
    point_id,point
    FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id FROM (</if>
    SELECT id,enterprise_name,shop_name,registered_address,cantact_way,area,grid,dynamic_grade,business_state,operation_mode,permission_type,regulators,supervisor,propaganda_enclosure,point_id,point FROM view_enterprise_point WHERE permission_type = '' and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode LIKE CONCAT('%',#{search.operationMode},'%')</if>
    <if test="search.businessState != null">AND business_state = #{search.businessState}</if>

    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
  </select>

  <select id="countListPC" resultType="int">
    SELECT count(1) FROM(
    SELECT * FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode = #{search.operationMode}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    <trim prefix="WHERE" prefixOverrides="OR">
      <if test="search.industryList.contains('foodBusiness')">
        a1_id
      </if>
      <if test="search.industryList.contains('smallCater')">
        OR a2_id
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        OR a3_id
      </if>
      <if test="search.industryList.contains('foodProduce')">
        OR a4_id
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        OR a5_id
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        OR a6_id
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        OR a7_id
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        OR a8_id
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        OR a9_id
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        OR a10_id
      </if>
    </trim>
    union
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.operationMode != null and search.operationMode != ''">AND operation_mode = #{search.operationMode}</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>)as a
  </select>

  <select id="countListPCHave" resultType="int">
    SELECT count(1) FROM(
    SELECT * FROM (
    <if test="search.industryList.contains('industrialProducts')">SELECT a.*,b.id as a10_id,b.end_time as a10_time FROM (</if>
    <if test="search.industryList.contains('medicalBusiness')">SELECT a.*,b.id as a9_id,b.end_time as a9_time FROM (</if>
    <if test="search.industryList.contains('medicalProduce')">SELECT a.*,b.id as a8_id,b.end_time as a8_time FROM (</if>
    <if test="search.industryList.contains('cosmeticsUse')">SELECT a.*,b.id as a7_id,b.end_time as a7_time FROM (</if>
    <if test="search.industryList.contains('drugsProduce')">SELECT a.*,b.id as a6_id,b.end_time as a6_time FROM (</if>
    <if test="search.industryList.contains('drugsBusiness')">SELECT a.*,b.id as a5_id,b.end_time as a5_time FROM (</if>
    <if test="search.industryList.contains('foodProduce')">SELECT a.*,b.id as a4_id,b.end_time as a4_time FROM (</if>
    <if test="search.industryList.contains('smallWorkshop')">SELECT a.*,b.id as a3_id,b.end_time as a3_time FROM (</if>
    <if test="search.industryList.contains('smallCater')">SELECT a.*,b.id as a2_id,b.end_time as a2_time FROM (</if>
    <if test="search.industryList.contains('foodBusiness')">SELECT a.* ,b.id as a1_id,b.end_time as a1_time FROM (</if>
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    <if test="search.industryList.contains('foodBusiness')">) as a LEFT JOIN supervision_en_food_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallCater')">)as a LEFT JOIN supervision_en_small_cater_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('smallWorkshop')">)as a LEFT JOIN supervision_en_small_workshop_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('foodProduce')">)as a LEFT JOIN supervision_en_food_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsBusiness')">)as a LEFT JOIN supervision_en_drugs_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('drugsProduce')">)as a LEFT JOIN supervision_en_drugs_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('cosmeticsUse')">)as a LEFT JOIN supervision_en_cosmetics_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalProduce')">)as a LEFT JOIN supervision_en_medical_pro_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('medicalBusiness')">)as a LEFT JOIN supervision_en_medical_bu_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    <if test="search.industryList.contains('industrialProducts')">)as a LEFT JOIN supervision_en_industrial_products_index as b on a.id =b.enterprise_id
      <if test="search.startTime != null">  AND b.end_time &gt;= #{search.startTime}</if>
      <if test="search.endTime != null"> AND b.end_time &lt;= #{search.endTime} </if>
      <if test="search.licenseNumber != null and search.licenseNumber != ''">AND b.number LIKE CONCAT('%',#{search.licenseNumber},'%')</if>
    </if>
    ) as a
    <trim prefix="WHERE" prefixOverrides="OR">
      <if test="search.industryList.contains('foodBusiness')">
        a1_id
      </if>
      <if test="search.industryList.contains('smallCater')">
        OR a2_id
      </if>
      <if test="search.industryList.contains('smallWorkshop')">
        OR a3_id
      </if>
      <if test="search.industryList.contains('foodProduce')">
        OR a4_id
      </if>
      <if test="search.industryList.contains('drugsBusiness')">
        OR a5_id
      </if>
      <if test="search.industryList.contains('drugsProduce')">
        OR a6_id
      </if>
      <if test="search.industryList.contains('cosmeticsUse')">
        OR a7_id
      </if>
      <if test="search.industryList.contains('medicalProduce')">
        OR a8_id
      </if>
      <if test="search.industryList.contains('medicalBusiness')">
        OR a9_id
      </if>
      <if test="search.industryList.contains('industrialProducts')">
        OR a10_id
      </if>
    </trim>) as a
  </select>

  <select id="countListPCNone" resultType="int">
    SELECT count(1) FROM(
    SELECT <include refid="List_Column_List" />  FROM supervision_enterprise WHERE permission_type = '' and business_state !=3  and area IN
    <foreach close=")" collection="search.areaList" item="area" open="(" separator=",">#{area}</foreach>
    <if test="search.dept != null and search.dept != ''">AND regulators LIKE CONCAT('%',#{search.dept},'%')</if>
    <if test="search.supervisor != null and search.supervisor != ''">AND FIND_IN_SET(#{search.supervisor},supervisor)</if>
    ) as a
  </select>

  <update id="changeStop">
    UPDATE supervision_enterprise SET is_stop = #{isStop} WHERE id = #{id}
  </update>

  <select id="selectByUnit" parameterType="java.lang.String" resultMap="BaseResultMap">
    select *
    from supervision_enterprise
    where enterprise_name = #{unit}
  </select>

  <select id="getAll" resultMap="ListResultMap">
    select <include refid="List_Column_List" />
    from supervision_enterprise
  </select>

  <select id="getAll2" resultMap="BaseResultMap">
    select <include refid="List_Column_List" />
    from supervision_enterprise
  </select>

  <insert id="batchInsert" keyColumn="id" keyProperty="id" parameterType="map" useGeneratedKeys="true">
    insert into supervision_enterprise (id,enterprise_name, shop_name,
    postal_code, registered_address, business_address,
    legal_person, id_number, license_number,
    cantacts, cantact_way, regulators,
    area, grid, supervisor,
    enterprise_scale, grid_person, risk_rating,
    risk_rating_lastyear, dynamic_grade, year_assessment,
    email, office_phone, patrol_frequency,
    transformation_type, business_status, permission_state,
    permission_type, ip_id_number, ip_mobile_phone,
    ip_sexy, ip_education, ip_political_outlook,
    ip_current_address, ip_nation, ip_email,
    ip_postal_code, sp_name, spId_number,
    sp_office_phone, sp_mobile_phone, sp_email,
    sp_sexy, sp_education, sp_current_address,
    sp_training, operation_mode, housing_property,
    owner, owner_id_number, owner_mobile_phone,
    agent, agent_id_number, agent_mobile_phone,
    other_phone, integrity_level, production_area,
    fixed_assets, practitioners, examination_population,
    warehouse1, warehouse2, warehouse3,
    abbreviation, introduction, culture,
    classification, is_stop,
    operate_time, operate_ip, operator
    )
    values
    <foreach collection="enterpriseList" item="enterprise" separator=",">
      (#{enterprise.id,jdbcType=INTEGER},#{enterprise.enterpriseName,jdbcType=VARCHAR}, #{enterprise.shopName,jdbcType=VARCHAR},
      #{enterprise.postalCode,jdbcType=VARCHAR}, #{enterprise.registeredAddress,jdbcType=VARCHAR}, #{enterprise.businessAddress,jdbcType=VARCHAR},
      #{enterprise.legalPerson,jdbcType=VARCHAR}, #{enterprise.idNumber,jdbcType=VARCHAR}, #{enterprise.licenseNumber,jdbcType=VARCHAR},
      #{enterprise.cantacts,jdbcType=VARCHAR}, #{enterprise.cantactWay,jdbcType=VARCHAR}, #{enterprise.regulators,jdbcType=INTEGER},
      #{enterprise.area,jdbcType=INTEGER}, #{enterprise.grid,jdbcType=VARCHAR}, #{enterprise.supervisor,jdbcType=VARCHAR},
      #{enterprise.enterpriseScale,jdbcType=VARCHAR}, #{enterprise.gridPerson,jdbcType=VARCHAR}, #{enterprise.riskRating,jdbcType=VARCHAR},
      #{enterprise.riskRatingLastyear,jdbcType=VARCHAR}, #{enterprise.dynamicGrade,jdbcType=VARCHAR}, #{enterprise.yearAssessment,jdbcType=VARCHAR},
      #{enterprise.email,jdbcType=VARCHAR}, #{enterprise.officePhone,jdbcType=VARCHAR}, #{enterprise.patrolFrequency,jdbcType=VARCHAR},
      #{enterprise.transformationType,jdbcType=VARCHAR}, #{enterprise.businessStatus,jdbcType=VARCHAR}, #{enterprise.permissionState,jdbcType=VARCHAR},
      #{enterprise.permissionType,jdbcType=VARCHAR}, #{enterprise.ipIdNumber,jdbcType=VARCHAR}, #{enterprise.ipMobilePhone,jdbcType=VARCHAR},
      #{enterprise.ipSexy,jdbcType=VARCHAR}, #{enterprise.ipEducation,jdbcType=VARCHAR}, #{enterprise.ipPoliticalOutlook,jdbcType=VARCHAR},
      #{enterprise.ipCurrentAddress,jdbcType=VARCHAR}, #{enterprise.ipNation,jdbcType=VARCHAR}, #{enterprise.ipEmail,jdbcType=VARCHAR},
      #{enterprise.ipPostalCode,jdbcType=VARCHAR}, #{enterprise.spName,jdbcType=VARCHAR}, #{enterprise.spidNumber,jdbcType=VARCHAR},
      #{enterprise.spOfficePhone,jdbcType=VARCHAR}, #{enterprise.spMobilePhone,jdbcType=VARCHAR}, #{enterprise.spEmail,jdbcType=VARCHAR},
      #{enterprise.spSexy,jdbcType=VARCHAR}, #{enterprise.spEducation,jdbcType=VARCHAR}, #{enterprise.spCurrentAddress,jdbcType=VARCHAR},
      #{enterprise.spTraining,jdbcType=VARCHAR}, #{enterprise.operationMode,jdbcType=VARCHAR}, #{enterprise.housingProperty,jdbcType=VARCHAR},
      #{enterprise.owner,jdbcType=VARCHAR}, #{enterprise.ownerIdNumber,jdbcType=VARCHAR}, #{enterprise.ownerMobilePhone,jdbcType=VARCHAR},
      #{enterprise.agent,jdbcType=VARCHAR}, #{enterprise.agentIdNumber,jdbcType=VARCHAR}, #{enterprise.agentMobilePhone,jdbcType=VARCHAR},
      #{enterprise.otherPhone,jdbcType=VARCHAR}, #{enterprise.integrityLevel,jdbcType=VARCHAR}, #{enterprise.productionArea,jdbcType=INTEGER},
      #{enterprise.fixedAssets,jdbcType=INTEGER}, #{enterprise.practitioners,jdbcType=VARCHAR}, #{enterprise.examinationPopulation,jdbcType=INTEGER},
      #{enterprise.warehouse1,jdbcType=VARCHAR}, #{enterprise.warehouse2,jdbcType=VARCHAR}, #{enterprise.warehouse3,jdbcType=VARCHAR},
      #{enterprise.abbreviation,jdbcType=VARCHAR}, #{enterprise.introduction,jdbcType=VARCHAR}, #{enterprise.culture,jdbcType=VARCHAR},
      #{enterprise.classification,jdbcType=VARCHAR}, #{enterprise.isStop,jdbcType=INTEGER},
      #{enterprise.operateTime,jdbcType=TIMESTAMP}, #{enterprise.operateIp,jdbcType=VARCHAR}, #{enterprise.operator,jdbcType=VARCHAR}
      )
    </foreach>
  </insert>

  <delete id="batchDelete" parameterType="map">
    delete from supervision_enterprise where id in
    <foreach close=")" collection="enterpriseIds" index="no" item="enterpriseId" open="(" separator=",">
      #{enterpriseId}
    </foreach>
  </delete>

  <select id="countByIdNumber" parameterType="map" resultType="int">
    SELECT count(1)
    FROM supervision_enterprise
    WHERE id_number = #{idNumber}
    <if test="id != null">
      AND id != #{id}
    </if>
  </select>

  <update id="batchUpdateSupervisor" parameterType="map">
    <foreach collection="enterpriseList" item="enterprise" separator=";">
      UPDATE supervision_enterprise
      SET supervisor = #{enterprise.supervisor}
      WHERE id = #{enterprise.id}
    </foreach>
  </update>

  <select id="selectBySupervisor" resultMap="ListResultMap">
    select
    <include refid="List_Column_List" />
    from supervision_enterprise
    where FIND_IN_SET(#{supervisor},supervisor)
  </select>

  <select id="countListAllEnterprise" resultType="int">
    SELECT count(1)
    FROM (select a.*,b.name as area_name
    from supervision_enterprise as a left join sys_area as b on a.area = b.id)as a
    where 1=1
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND a.enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.areaName != null and search.areaName != ''">AND a.area_name LIKE CONCAT('%',#{search.areaName},'%')</if>
    <if test="search.address != null and search.address != ''">AND a.business_address LIKE CONCAT('%',#{search.address},'%')</if>
  </select>

  <select id="getAllEnterprise" resultMap="ResultMapParam">
    select *
    from (select a.*,b.name as area_name
    from supervision_enterprise as a left join sys_area as b on a.area = b.id) as a
    where 1=1
    <if test="search.enterpriseName != null and search.enterpriseName != ''">AND a.enterprise_name LIKE CONCAT('%',#{search.enterpriseName},'%')</if>
    <if test="search.areaName != null and search.areaName != ''">AND a.area_name LIKE CONCAT('%',#{search.areaName},'%')</if>
    <if test="search.address != null and search.address != ''">AND a.business_address LIKE CONCAT('%',#{search.address},'%')</if>
    order by id desc
    limit #{page.offset}, #{page.pageSize}
  </select>

  <select id="countListPreAndEd" resultType="int">
    select count(1)
    from
    (select a.*,b.name as name from (select a.*,IFNULL(b.ed,0) as ed from
    (SELECT regulators as dept,count(1) as pre FROM `supervision_enterprise` where dynamic_grade  ='' GROUP BY regulators) as a
    left join
    (SELECT regulators as dept,count(1) as ed FROM `supervision_enterprise` where dynamic_grade  !='' GROUP BY regulators) as b
    on a.dept = b.dept)as a
    left join sys_dept as b on a.dept = b. id)as a
  </select>

  <select id="getPagePreAndEd" resultMap="PreAndEdParam">
    select a.*,b.name as name from (select a.*,IFNULL(b.ed,0) as ed from
    (SELECT regulators as dept,count(1) as pre FROM `supervision_enterprise` where dynamic_grade  ='' GROUP BY regulators) as a
    left join
    (SELECT regulators as dept,count(1) as ed FROM `supervision_enterprise` where dynamic_grade  !='' GROUP BY regulators) as b
    on a.dept = b.dept)as a
    left join sys_dept as b on a.dept = b. id

    limit #{page.offset}, #{page.pageSize}
  </select>


  <select id="countListPre" resultType="int">
    select count(1)
    from
    (select a.*,b.name as dept from
    (SELECT regulators as dept_id,DATE_FORMAT(NOW(), '%Y') as year,enterprise_name as enterprise,legal_person as person,cantact_way as phone,supervisor as `check`,operate_time as date,dynamic_grade as result,'0' as freq
    from supervision_enterprise
    where dynamic_grade  ='' and regulators=#{dept})as a
    left join sys_dept as b on a.dept_id = b.id)as a
  </select>

  <select id="getPagePre" resultMap="PreAndEdEnterpriseParam">
    select a.*,b.name as dept from
    (SELECT regulators as dept_id,DATE_FORMAT(NOW(), '%Y') as year,enterprise_name as enterprise,legal_person as person,cantact_way as phone,supervisor as `check`,operate_time as date,dynamic_grade as result,'0' as freq
    from supervision_enterprise
    where dynamic_grade  ='' and regulators=#{dept})as a
    left join sys_dept as b on a.dept_id = b.id

    limit #{page.offset}, #{page.pageSize}
  </select>


  <select id="countListEd" resultType="int">
    select count(1)
    from
    (select a.*,b.name as dept from
    (SELECT regulators as dept_id,DATE_FORMAT(NOW(), '%Y') as year,enterprise_name as enterprise,legal_person as person,cantact_way as phone,supervisor as `check`,operate_time as date,dynamic_grade as result,'0' as freq
    from supervision_enterprise
    where dynamic_grade  !='' and regulators=#{dept})as a
    left join sys_dept as b on a.dept_id = b.id)as a
  </select>

  <select id="getPageEd" resultMap="PreAndEdEnterpriseParam">
    select a.*,b.name as dept from
    (SELECT regulators as dept_id,DATE_FORMAT(NOW(), '%Y') as year,enterprise_name as enterprise,legal_person as person,cantact_way as phone,supervisor as `check`,operate_time as date,dynamic_grade as result,'0' as freq
    from supervision_enterprise
    where dynamic_grade  !='' and regulators=#{dept})as a
    left join sys_dept as b on a.dept_id = b.id

    limit #{page.offset}, #{page.pageSize}
  </select>

  <update id="changeFlagByIdNumber" parameterType="String">
      UPDATE supervision_enterprise
      SET gps_flag = 1,
      business_state = 2
      WHERE id_number = #{idNumber}
  </update>

</mapper>